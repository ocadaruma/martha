package com.mayreh.martha.render.element

import com.mayreh.martha.render.{Color, Rect, Size}

case class DoubleFlatElement(frame: Rect, color: Color = ScoreElementBase.defaultColor) extends ScoreElementBase {

  val element: scala.xml.Elem = {

    val Size(width, height) = frame.size
    val w = width / 180
    val h = height / 330

    <path
      stroke="none"
      fill={color.hexRGB}
      transform={s"translate(${frame.x}, ${frame.y})"}
      d ={s"""M ${ w * 0.53125 } ${ h * 0.46875 }
             |L ${ w * 0.53125 } ${ h * 330.625 }
             |C ${ w * 12.988437 } ${ h * 314.03095 } ${ w * 51.718438 } ${ h * 289.12465 } ${ w * 67.15625 } ${ h * 272.21875 }
             |C ${ w * 79.397439 } ${ h * 258.81215 } ${ w * 87.454067 } ${ h * 237.64504 } ${ w * 89.46875 } ${ h * 222.59375 }
             |L ${ w * 89.46875 } ${ h * 330.625 }
             |C ${ w * 102.98843 } ${ h * 314.03095 } ${ w * 141.71843 } ${ h * 289.12465 } ${ w * 157.15625 } ${ h * 272.21875 }
             |C ${ w * 172.59406 } ${ h * 255.3112 } ${ w * 181.44093 } ${ h * 226.03235 } ${ w * 179.8125 } ${ h * 212.28125 }
             |C ${ w * 178.18407 } ${ h * 198.5285 } ${ w * 172.21375 } ${ h * 185.2056 } ${ w * 151.1875 } ${ h * 181.59375 }
             |C ${ w * 134.69352 } ${ h * 178.76044 } ${ w * 109.89705 } ${ h * 197.94212 } ${ w * 98.21875 } ${ h * 207.3125 }
             |L ${ w * 98.78125 } ${ h * 0.46875 }
             |L ${ w * 89.46875 } ${ h * 0.46875 }
             |L ${ w * 89.46875 } ${ h * 209.9375 }
             |C ${ w * 87.434286 } ${ h * 197.04463 } ${ w * 81.011735 } ${ h * 184.99912 } ${ w * 61.1875 } ${ h * 181.59375 }
             |C ${ w * 44.693517 } ${ h * 178.76044 } ${ w * 19.897048 } ${ h * 197.94212 } ${ w * 8.21875 } ${ h * 207.3125 }
             |L ${ w * 8.78125 } ${ h * 0.46875 }
             |L ${ w * 0.53125 } ${ h * 0.46875 } z
             |M ${ w * 40.96875 } ${ h * 205.53125 }
             |C ${ w * 46.714434 } ${ h * 205.62437 } ${ w * 51.461968 } ${ h * 207.72003 } ${ w * 53.625 } ${ h * 209.71875 }
             |C ${ w * 61.315785 } ${ h * 216.82695 } ${ w * 61.1875 } ${ h * 224.8044 } ${ w * 61.1875 } ${ h * 234.5625 }
             |C ${ w * 61.1875 } ${ h * 244.32225 } ${ w * 56.783596 } ${ h * 261.041 } ${ w * 43.375 } ${ h * 276.03125 }
             |C ${ w * 29.965 } ${ h * 291.01985 } ${ w * 14.865 } ${ h * 298.80375 } ${ w * 7.96875 } ${ h * 307.21875 }
             |L ${ w * 8.125 } ${ h * 242.625 }
             |C ${ w * 15.191916 } ${ h * 212.64795 } ${ w * 29.923036 } ${ h * 205.35223 } ${ w * 40.96875 } ${ h * 205.53125 } z
             |M ${ w * 130.96875 } ${ h * 205.53125 }
             |C ${ w * 136.71443 } ${ h * 205.62437 } ${ w * 141.46197 } ${ h * 207.72003 } ${ w * 143.625 } ${ h * 209.71875 }
             |C ${ w * 151.31578 } ${ h * 216.82695 } ${ w * 151.1875 } ${ h * 224.8044 } ${ w * 151.1875 } ${ h * 234.5625 }
             |C ${ w * 151.1875 } ${ h * 244.32225 } ${ w * 146.7836 } ${ h * 261.041 } ${ w * 133.375 } ${ h * 276.03125 }
             |C ${ w * 119.965 } ${ h * 291.01985 } ${ w * 104.865 } ${ h * 298.80375 } ${ w * 97.96875 } ${ h * 307.21875 }
             |L ${ w * 98.125 } ${ h * 242.625 }
             |C ${ w * 105.19192 } ${ h * 212.64795 } ${ w * 119.92304 } ${ h * 205.35223 } ${ w * 130.96875 } ${ h * 205.53125 } z""".stripMargin}
      />
  }

  def withFrame(frame: Rect): ScoreElementBase = this.copy(frame = frame)
}
